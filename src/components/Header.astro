---
import { BRAND } from '../utils/brand';

const navItems = [
  { name: 'Home', href: '/' },
  { name: 'Service Areas', href: '/service-areas/' },
  { name: 'Backloading', href: '/backloading/' },
  { name: 'Car Transport', href: '/car-transport/' },
  { name: 'Moving Interstate', href: '/moving-interstate/' },
  { name: 'Contact', href: '/contact/' },
];
---

<header class="w-full bg-brand-dark shadow-md relative z-50">
  <!-- Top Bar -->
  <div class="bg-brand-dark text-white py-2 px-4">
    <div class="container mx-auto flex justify-center items-center text-sm md:text-base">
      <div class="font-bold text-brand-yellow">
        ðŸš› Moving Made Easy â€“ {BRAND.yearsInBusiness} Years Experience
      </div>
    </div>
  </div>

  <!-- Main Header -->
  <div class="container mx-auto px-4 py-4 md:py-6">
    <div class="flex justify-between items-center">
      <!-- Logo -->
      <a href="/" class="flex items-center gap-3">
        <img
          src="/logo.svg"
          alt="Moving Again logo"
          class="h-14 md:h-16 w-auto"
          width="64"
          height="64"
          loading="eager"
          decoding="async"
        />
        <div class="flex flex-col">
          <span class="text-2xl md:text-3xl font-black text-white tracking-tighter leading-none">
            MOVING AGAIN
          </span>
          <span class="text-xs font-bold text-gray-400 tracking-widest uppercase">
            Interstate Removalists
          </span>
        </div>
      </a>

      <!-- Desktop Navigation -->
      <nav class="hidden md:flex items-center gap-6 lg:gap-8">
        {
          navItems.map((item) => (
            <a
              href={item.href}
              class="text-white font-bold hover:text-brand-yellow transition-colors text-sm lg:text-base uppercase tracking-tight"
            >
              {item.name}
            </a>
          ))
        }
        <a
          data-brain-track="quote"
          href="https://removalistquotes.movingagain.com.au/quote/household"
          class="bg-brand-red text-white font-bold py-2.5 px-6 rounded-brand hover:bg-brand-accent transition-colors shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 duration-200"
        >
          Get a Quote
        </a>
      </nav>

      <!-- Mobile Menu Button -->
      <button id="mobile-menu-btn" class="md:hidden text-white p-2" aria-label="Toggle Menu">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-8 w-8"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
    </div>
  </div>

  <!-- Mobile Menu Drawer -->
  <div
    id="mobile-menu"
    class="fixed inset-0 bg-brand-dark/95 backdrop-blur-sm z-50 transform translate-x-full transition-transform duration-300 md:hidden flex justify-center items-center"
  >
    <!-- Close Button -->
    <button
      id="close-menu-btn"
      class="absolute top-6 right-6 text-white p-2"
      aria-label="Close Menu"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-10 w-10"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M6 18L18 6M6 6l12 12"></path>
      </svg>
    </button>

    <nav class="flex flex-col items-center gap-6 text-center">
      {
        navItems.map((item) => (
          <a
            href={item.href}
            class="text-2xl text-white font-bold hover:text-brand-yellow transition-colors"
          >
            {item.name}
          </a>
        ))
      }
      <a
        data-brain-track="quote"
        href="https://removalistquotes.movingagain.com.au/quote/household"
        class="mt-4 bg-brand-yellow text-brand-dark font-bold py-4 px-10 rounded-brand text-xl shadow-xl"
      >
        Get a Quote
      </a>
    </nav>
  </div>
</header>

<script>
  const mobileMenuBtn = document.getElementById('mobile-menu-btn');
  const closeMenuBtn = document.getElementById('close-menu-btn');
  const mobileMenu = document.getElementById('mobile-menu');

  function toggleMenu() {
    mobileMenu?.classList.toggle('translate-x-full');
    document.body.classList.toggle('overflow-hidden');
  }

  mobileMenuBtn?.addEventListener('click', toggleMenu);
  closeMenuBtn?.addEventListener('click', toggleMenu);
</script>
